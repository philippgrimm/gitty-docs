---
/**
 * Screenshot â€” CRT monitor bezel frame for screenshots
 *
 * Wraps an image in a retro CRT-style bezel with inset glow.
 */

interface Props {
  src: string;
  alt: string;
  caption?: string;
  class?: string;
  width?: number;
  height?: number;
}

const {
  src,
  alt,
  caption,
  class: className = '',
  width = 1280,
  height = 800,
} = Astro.props;
---

<figure class:list={['screenshot', className]}>
  <div class="screenshot__bezel">
    <img
      src={src}
      alt={alt}
      width={width}
      height={height}
      loading="lazy"
      decoding="async"
      class="screenshot__img"
    />
  </div>
  {caption && (
    <figcaption class="screenshot__caption">{caption}</figcaption>
  )}
</figure>

<style>
  .screenshot {
    display: block;
    margin: 0;
  }

  .screenshot__bezel {
    border: 3px solid;
    border-color: #5858b0 #1e1b50 #1e1b50 #5858b0;
    border-radius: var(--radius-lg);
    overflow: hidden;
    box-shadow:
      inset 0 0 40px rgba(75, 80, 176, 0.08),
      inset 0 0 80px rgba(0, 0, 0, 0.1),
      var(--shadow-md);
  }

  .screenshot__img {
    display: block;
    width: 100%;
    height: auto;
  }

  .screenshot__caption {
    display: block;
    margin-top: 0.625rem;
    font-family: var(--font-display);
    font-size: 0.75rem;
    color: var(--text-tertiary);
    text-align: center;
    letter-spacing: 0.03em;
  }
</style>
